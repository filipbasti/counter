(function(){"use strict";var a={254:function(a,e,t){var o=t(963),r=t(252);const l={key:0,class:"navbar navbar-light bg-light"},i=(0,r._)("a",{class:"navbar-brand",href:"#"},[(0,r._)("img",{src:"https://i.imgur.com/xILgPko.png",width:"30",height:"30",class:"d-inline-block align-top",alt:""}),(0,r.Uk)(" Counter ")],-1),n=[i];function s(a,e,t,o,i,s){const c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",null,[i.showNavbar?((0,r.wg)(),(0,r.iD)("nav",l,n)):(0,r.kq)("",!0),(0,r.Wm)(c)])}var c={name:"App",data(){return{showNavbar:!0}},watch:{$route(a){this.showNavbar=!a.path.startsWith("/overlay/")}}},p=t(744);const u=(0,p.Z)(c,[["render",s]]);var m=u,y=t(201),g=t(577);const d={class:"container"},h={id:"app",class:"row mt-3"},v=(0,r._)("div",{class:"col"},null,-1),f={class:"col-sm-8 col-lg-6 col-md-6 col-10"},b={class:"col"},D={class:"mb-3 col d-grid gap-2"},w={class:"row mx-auto d-block display-1",style:{"font-size":"7rem"}},S={class:"mb-3 col"},_={class:"mb-3 col d-grid gap-2"},k={class:"row mx-auto d-block display-1",style:{"font-size":"7rem"}},L=(0,r._)("label",{for:"player1",class:"form-label"},"Player 1 Name:",-1),N=(0,r._)("label",{for:"player2",class:"form-label"},"Player 2 Name:",-1),x={class:"container mt-4"},I={class:"row"},U={class:"col-lg text-center"},P={class:"col-lg text-center"},C={id:"score"},z={class:"col-lg text-center"},O={class:"row mt-3"},j={class:"container mt-5"},T={class:"input-group mb-3"},A=(0,r._)("div",{class:"col"},null,-1);function G(a,e,t,l,i,n){return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",h,[v,(0,r._)("div",f,[(0,r._)("div",b,[(0,r._)("div",D,[(0,r._)("button",{class:"btn btn-primary row btn-lg",onClick:e[0]||(e[0]=a=>n.changeLife("player1",1))}," + "),(0,r._)("h1",w,(0,g.zw)(i.gameData.player1Life.value),1),(0,r._)("button",{class:"btn btn-primary row btn-lg",onClick:e[1]||(e[1]=a=>n.changeLife("player1",-1))}," - ")])]),(0,r._)("div",S,[(0,r._)("div",_,[(0,r._)("button",{class:"btn btn-primary row btn-lg",onClick:e[2]||(e[2]=a=>n.changeLife("player2",1))}," + "),(0,r._)("h1",k,(0,g.zw)(i.gameData.player2Life.value),1),(0,r._)("button",{class:"btn btn-primary row btn-lg",onClick:e[3]||(e[3]=a=>n.changeLife("player2",-1))}," - ")])]),L,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control mb-3",id:"player1","onUpdate:modelValue":e[4]||(e[4]=a=>i.gameData.player1Name.value=a)},null,512),[[o.nr,i.gameData.player1Name.value]]),N,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control mb-3",id:"player2","onUpdate:modelValue":e[5]||(e[5]=a=>i.gameData.player2Name.value=a)},null,512),[[o.nr,i.gameData.player2Name.value]]),(0,r._)("div",null,[(0,r._)("div",x,[(0,r._)("div",I,[(0,r._)("div",U,[(0,r._)("button",{class:"btn btn-primary",id:"increasePlayer1",onClick:e[6]||(e[6]=a=>n.changeScore("player1",1))}," Player 1 ")]),(0,r._)("div",P,[(0,r._)("h2",C,(0,g.zw)(i.gameData.player1Score.value)+":"+(0,g.zw)(i.gameData.player2Score.value),1)]),(0,r._)("div",z,[(0,r._)("button",{class:"btn btn-primary",id:"increasePlayer2",onClick:e[7]||(e[7]=a=>n.changeScore("player2",1))}," Player 2 ")])]),(0,r._)("div",O,[(0,r._)("button",{class:"btn btn-primary",onClick:e[8]||(e[8]=a=>n.resetScore())}," reset "),(0,r._)("div",j,[(0,r._)("div",T,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>n.fullUrl=a),readonly:""},null,512),[[o.nr,n.fullUrl]]),(0,r._)("button",{class:"btn btn-outline-secondary",onClick:e[10]||(e[10]=(...a)=>n.copyToClipboard&&n.copyToClipboard(...a))}," Copy ")])])])])])]),A])])}var J=t(977),V=t(100);const E={apiKey:"AIzaSyARwKQx5lxSAcq_6Kwtk0G23ks1slY94MM",authDomain:"lifecounter-1c8bf.firebaseapp.com",projectId:"lifecounter-1c8bf",storageBucket:"lifecounter-1c8bf.appspot.com",messagingSenderId:"329868007787",appId:"1:329868007787:web:52474288bdd6aeb9e3942e"},F=(0,J.ZF)(E),M=(0,V.ad)(F);var $=M,q={name:"HomePage",data(){return{gameData:{player1Name:{value:""},player2Name:{value:""},player1Life:{value:20},player2Life:{value:20},player1Score:{value:0},player2Score:{value:0}},thisGameId:"",currentAdress:window.location.href}},computed:{fullUrl(){return this.currentAdress+"overlay/"+localStorage.getItem("thisGameId")}},mounted(){localStorage.getItem("gameData")||localStorage.setItem("gameData",JSON.stringify(this.gameData)),this.thisGameId=localStorage.getItem("thisGameId"),this.gameData=JSON.parse(localStorage.getItem("gameData")),console.log(this.gameData),this.thisGameId||this.savePlayerData(),(0,r.YP)((()=>this.gameData),(()=>{this.updateFirestoreDocument(),localStorage.setItem("gameData",JSON.stringify(this.gameData))}),{deep:!0})},methods:{copyToClipboard(){const a=this.fullUrl;navigator.clipboard.writeText(a).then((()=>{alert("Copied to clipboard!")})).catch((a=>{console.error("Unable to copy to clipboard",a)}))},async savePlayerData(){const a={x:100,y:100,h:110,w:100,color:"black"};try{console.log("uspjeh");const e=await(0,V.ET)((0,V.hJ)($,"players"),{gameData:{player1Name:{value:this.gameData.player1Name.value,position:a},player2Name:{value:this.gameData.player2Name.value,position:a},player1Life:{value:this.gameData.player1Life.value,position:a},player2Life:{value:this.gameData.player2Life.value,position:a},player1Score:{value:this.gameData.player1Score.value,position:a},player2Score:{value:this.gameData.player2Score.value,position:a}}});localStorage.setItem("thisGameId",e.id),console.log("Document written with ID: ",e.id)}catch(e){console.error("Error adding document: ",e)}},async updateFirestoreDocument(){const a=(0,V.JU)($,"players",localStorage.getItem("thisGameId"));try{await(0,V.r7)(a,{"gameData.player1Name.value":this.gameData.player1Name.value,"gameData.player2Name.value":this.gameData.player2Name.value,"gameData.player1Life.value":this.gameData.player1Life.value,"gameData.player2Life.value":this.gameData.player2Life.value,"gameData.player1Score.value":this.gameData.player1Score.value,"gameData.player2Score.value":this.gameData.player2Score.value}),console.log("Document successfully updated!")}catch(e){console.error("Error updating document: ",e)}},changeLife(a,e){"player1"===a?this.gameData.player1Life.value+=e:this.gameData.player2Life.value+=e,this.gameData.player1Life.value<0&&(this.gameData.player1Life.value=0),this.gameData.player2Life.value<0&&(this.gameData.player2Life.value=0)},changeScore(a,e){"player1"===a?this.gameData.player1Score.value+=e:this.gameData.player2Score.value+=e},resetScore(){this.gameData.player1Score.value=0,this.gameData.player2Score.value=0}}};const H=(0,p.Z)(q,[["render",G]]);var K=H;const R=(0,r._)("img",{src:"https://i.imgur.com/moqON4T.png",width:"1920",height:"1080"},null,-1),W=(0,r._)("h2",null,"Pick color",-1),Y={key:0},Z=(0,r._)("button",null,"promjeni boju aktivnog",-1);function Q(a,e,t,o,l,i){const n=(0,r.up)("compact-picker"),s=(0,r.up)("Vue3DraggableResizable");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",null,[R,W,(0,r._)("p",null,"User ID: "+(0,g.zw)(a.$route.params.id),1),(0,r.Wm)(n,{modelValue:l.colors,"onUpdate:modelValue":[e[0]||(e[0]=a=>l.colors=a),e[1]||(e[1]=a=>i.changeColor())],class:"np-mb"},null,8,["modelValue"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.entryData,((a,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r.Wm)(s,{x:a.position.x,"onUpdate:x":e=>a.position.x=e,y:a.position.y,"onUpdate:y":e=>a.position.y=e,w:a.position.w,"onUpdate:w":e=>a.position.w=e,h:a.position.h,"onUpdate:h":e=>a.position.h=e,"init-h":110,"init-w":100,draggable:!0,resizable:!0,onActivated:a=>l.temp=t,onDragStart:e[2]||(e[2]=a=>l.active=!0),onDragEnd:e[3]||(e[3]=a=>(l.active=!1,i.rememberPosition())),onResizeEnd:e[4]||(e[4]=a=>i.rememberPosition())},{default:(0,r.w5)((()=>[(0,r._)("p",{style:(0,g.j5)({fontSize:i.calculateFontSize(a.position.w,a.position.h),color:a.position.color}),"data-bs-toggle":"tooltip","data-bs-title":"Default tooltip"},(0,g.zw)(a.value),5),l.active?((0,r.wg)(),(0,r.iD)("p",Y,(0,g.zw)(t),1)):(0,r.kq)("",!0)])),_:2},1032,["x","onUpdate:x","y","onUpdate:y","w","onUpdate:w","h","onUpdate:h","onActivated"])])))),128))]),Z],64)}var B=t(527),X=t.n(B),aa=t(893),ea={async mounted(){this.getInitial(),this.watcher()},components:{Vue3DraggableResizable:X(),"compact-picker":aa.Compact},data(){return{active:!1,id:"",entryData:{},temp:"",colors:{}}},methods:{changeColor(){this.temp?(this.entryData[this.temp].position.color=this.colors.hex,this.rememberPosition()):alert("Izaberi sta hoces mijenjat")},calculateFontSize(a,e){const t=Math.min(a,e)/2;return`${t}px`},async watcher(){this.id=this.$route.params.id,(0,V.cf)((0,V.JU)($,"players",this.id),(a=>{this.entryData={...a.data().gameData}}))},async getInitial(){const a=(0,V.JU)($,"players",this.$route.params.id),e=await(0,V.QT)(a);this.entryData={...e.data().gameData}},async rememberPosition(){const a=(0,V.JU)($,"players",this.id);try{await(0,V.r7)(a,{"gameData.player1Name.position":this.entryData.player1Name.position,"gameData.player2Name.position":this.entryData.player2Name.position,"gameData.player1Life.position":this.entryData.player1Life.position,"gameData.player2Life.position":this.entryData.player2Life.position,"gameData.player1Score.position":this.entryData.player1Score.position,"gameData.player2Score.position":this.entryData.player2Score.position})}catch(e){console.error("Error updating document: ",e)}}}};const ta=(0,p.Z)(ea,[["render",Q]]);var oa=ta;const ra=[{path:"/",name:"Home",component:K},{path:"/overlay/:id",name:"overlay",component:oa}],la=(0,y.p7)({history:(0,y.PO)(),routes:ra});var ia=la;(0,o.ri)(m).use(ia).mount("#app")}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var l=e[o]={exports:{}};return a[o].call(l.exports,l,l.exports,t),l.exports}t.m=a,function(){var a=[];t.O=function(e,o,r,l){if(!o){var i=1/0;for(p=0;p<a.length;p++){o=a[p][0],r=a[p][1],l=a[p][2];for(var n=!0,s=0;s<o.length;s++)(!1&l||i>=l)&&Object.keys(t.O).every((function(a){return t.O[a](o[s])}))?o.splice(s--,1):(n=!1,l<i&&(i=l));if(n){a.splice(p--,1);var c=r();void 0!==c&&(e=c)}}return e}l=l||0;for(var p=a.length;p>0&&a[p-1][2]>l;p--)a[p]=a[p-1];a[p]=[o,r,l]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var o in e)t.o(e,o)&&!t.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={143:0};t.O.j=function(e){return 0===a[e]};var e=function(e,o){var r,l,i=o[0],n=o[1],s=o[2],c=0;if(i.some((function(e){return 0!==a[e]}))){for(r in n)t.o(n,r)&&(t.m[r]=n[r]);if(s)var p=s(t)}for(e&&e(o);c<i.length;c++)l=i[c],t.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return t.O(p)},o=self["webpackChunkupdater"]=self["webpackChunkupdater"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(254)}));o=t.O(o)})();
//# sourceMappingURL=app.ff247dc5.js.map