(function(){"use strict";var a={5426:function(a,e,t){var o=t(9242),r=t(3396);const l={key:0,class:"navbar navbar-expand-lg navbar-light bg-light"},n=(0,r._)("a",{class:"navbar-brand",href:"#"},"Your Logo",-1),i=(0,r._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r._)("span",{class:"navbar-toggler-icon"})],-1),s={class:"collapse navbar-collapse",id:"navbarNav"},c={class:"navbar-nav ml-auto"},p=(0,r._)("li",{class:"nav-item"},[(0,r._)("a",{class:"nav-link",href:"#"},"Controller")],-1);function u(a,e,t,o,u,m){const y=(0,r.up)("router-link"),d=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",null,[u.showNavbar?((0,r.wg)(),(0,r.iD)("nav",l,[n,i,(0,r._)("div",s,[(0,r._)("ul",c,[(0,r.Wm)(y,{to:"/"},{default:(0,r.w5)((()=>[p])),_:1})])])])):(0,r.kq)("",!0),(0,r.Wm)(d)])}var m={name:"App",data(){return{showNavbar:!0}},watch:{$route(a){this.showNavbar=!a.path.startsWith("/overlay/")}}},y=t(89);const d=(0,y.Z)(m,[["render",u]]);var g=d,v=t(2483),h=t(7139);const f=a=>((0,r.dD)("data-v-4af9fefe"),a=a(),(0,r.Cn)(),a),b={id:"app",class:"row mt-5"},D=f((()=>(0,r._)("div",{class:"col"},null,-1))),w={class:"col"},_={class:""},S={class:"col"},x=f((()=>(0,r._)("label",{for:"player1",class:"form-label"},"Player 1 Name:",-1))),N={class:"mb-3 col d-grid gap-2"},L={class:"row mx-auto d-block"},k={class:"mb-3 col"},I=f((()=>(0,r._)("label",{for:"player2",class:"form-label"},"Player 2 Name:",-1))),U={class:"mb-3 col d-grid gap-2"},C={class:"row mx-auto d-block"},P={class:"container mt-4"},O={class:"row"},z={class:"col text-center"},T={id:"score"},j={class:"row mt-3"},G={class:"col text-center"},E={class:"col text-center"},J={class:"container mt-5"},A={class:"input-group mb-3"},F=f((()=>(0,r._)("div",{class:"col"},null,-1)));function H(a,e,t,l,n,i){return(0,r.wg)(),(0,r.iD)("div",b,[D,(0,r._)("div",w,[(0,r._)("div",_,[(0,r._)("div",S,[x,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control mb-3",id:"player1","onUpdate:modelValue":e[0]||(e[0]=a=>n.gameData.player1Name.value=a)},null,512),[[o.nr,n.gameData.player1Name.value]]),(0,r._)("div",N,[(0,r._)("button",{class:"btn btn-primary row",onClick:e[1]||(e[1]=a=>i.changeLife("player1",1))}," + "),(0,r._)("h1",L,(0,h.zw)(n.gameData.player1Life.value),1),(0,r._)("button",{class:"btn btn-primary row",onClick:e[2]||(e[2]=a=>i.changeLife("player1",-1))}," - ")])]),(0,r._)("div",k,[I,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control mb-3",id:"player2","onUpdate:modelValue":e[3]||(e[3]=a=>n.gameData.player2Name.value=a)},null,512),[[o.nr,n.gameData.player2Name.value]]),(0,r._)("div",U,[(0,r._)("button",{class:"btn btn-primary row",onClick:e[4]||(e[4]=a=>i.changeLife("player2",1))}," + "),(0,r._)("h1",C,(0,h.zw)(n.gameData.player2Life.value),1),(0,r._)("button",{class:"btn btn-primary row",onClick:e[5]||(e[5]=a=>i.changeLife("player2",-1))}," - ")])])]),(0,r._)("div",null,[(0,r._)("div",P,[(0,r._)("div",O,[(0,r._)("div",z,[(0,r._)("h2",T,(0,h.zw)(n.gameData.player1Score.value)+":"+(0,h.zw)(n.gameData.player2Score.value),1)])]),(0,r._)("div",j,[(0,r._)("div",G,[(0,r._)("button",{class:"btn btn-primary",id:"increasePlayer1",onClick:e[6]||(e[6]=a=>i.changeScore("player1",1))}," Player 1 ")]),(0,r._)("div",E,[(0,r._)("button",{class:"btn btn-primary",id:"increasePlayer2",onClick:e[7]||(e[7]=a=>i.changeScore("player2",1))}," Player 2 "),(0,r._)("button",{class:"btn btn-primary",onClick:e[8]||(e[8]=a=>i.resetScore())}," reset ")]),(0,r._)("div",J,[(0,r._)("div",A,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>i.fullUrl=a),readonly:""},null,512),[[o.nr,i.fullUrl]]),(0,r._)("button",{class:"btn btn-outline-secondary",onClick:e[10]||(e[10]=(...a)=>i.copyToClipboard&&i.copyToClipboard(...a))}," Copy ")])])])])])]),F])}var M=t(7795),W=t(4287);const Y={apiKey:"AIzaSyARwKQx5lxSAcq_6Kwtk0G23ks1slY94MM",authDomain:"lifecounter-1c8bf.firebaseapp.com",projectId:"lifecounter-1c8bf",storageBucket:"lifecounter-1c8bf.appspot.com",messagingSenderId:"329868007787",appId:"1:329868007787:web:52474288bdd6aeb9e3942e"},K=(0,M.ZF)(Y),V=(0,W.ad)(K);var q=V,R={name:"HomePage",data(){return{gameData:{player1Name:{value:""},player2Name:{value:""},player1Life:{value:20},player2Life:{value:20},player1Score:{value:0},player2Score:{value:0}},thisGameId:"",currentAdress:window.location.href}},computed:{fullUrl(){return this.currentAdress+"overlay/"+localStorage.getItem("thisGameId")}},mounted(){localStorage.getItem("gameData")||localStorage.setItem("gameData",JSON.stringify(this.gameData)),this.thisGameId=localStorage.getItem("thisGameId"),this.gameData=JSON.parse(localStorage.getItem("gameData")),console.log(this.gameData),this.thisGameId||this.savePlayerData(),(0,r.YP)((()=>this.gameData),(()=>{this.updateFirestoreDocument(),localStorage.setItem("gameData",JSON.stringify(this.gameData))}),{deep:!0})},methods:{copyToClipboard(){const a=this.fullUrl;navigator.clipboard.writeText(a).then((()=>{alert("Copied to clipboard!")})).catch((a=>{console.error("Unable to copy to clipboard",a)}))},async savePlayerData(){try{console.log("uspjeh");const a=await(0,W.ET)((0,W.hJ)(q,"players"),{gameData:{player1Name:{value:this.gameData.player1Name.value,position:{x:100,y:100,h:110,w:100}},player2Name:{value:this.gameData.player2Name.value,position:{x:100,y:100,h:110,w:100}},player1Life:{value:this.gameData.player1Life.value,position:{x:100,y:100,h:110,w:100}},player2Life:{value:this.gameData.player2Life.value,position:{x:100,y:100,h:110,w:100}},player1Score:{value:this.gameData.player1Score.value,position:{x:100,y:100,h:110,w:100}},player2Score:{value:this.gameData.player2Score.value,position:{x:100,y:100,h:110,w:100}}}});localStorage.setItem("thisGameId",a.id),console.log("Document written with ID: ",a.id)}catch(a){console.error("Error adding document: ",a)}},async updateFirestoreDocument(){const a=(0,W.JU)(q,"players",localStorage.getItem("thisGameId"));try{await(0,W.r7)(a,{"gameData.player1Name.value":this.gameData.player1Name.value,"gameData.player2Name.value":this.gameData.player2Name.value,"gameData.player1Life.value":this.gameData.player1Life.value,"gameData.player2Life.value":this.gameData.player2Life.value,"gameData.player1Score.value":this.gameData.player1Score.value,"gameData.player2Score.value":this.gameData.player2Score.value}),console.log("Document successfully updated!")}catch(e){console.error("Error updating document: ",e)}},changeLife(a,e){"player1"===a?this.gameData.player1Life.value+=e:this.gameData.player2Life.value+=e,this.gameData.player1Life.value<0&&(this.gameData.player1Life.value=0),this.gameData.player2Life.value<0&&(this.gameData.player2Life.value=0)},changeScore(a,e){"player1"===a?this.gameData.player1Score.value+=e:this.gameData.player2Score.value+=e},resetScore(){this.gameData.player1Score.value=0,this.gameData.player2Score.value=0}}};const Z=(0,y.Z)(R,[["render",H],["__scopeId","data-v-4af9fefe"]]);var $=Z;const B=(0,r._)("img",{src:"https://i.imgur.com/moqON4T.png",width:"1920",height:"1080"},null,-1),Q=(0,r._)("h2",null,"User Details",-1),X={key:0},aa=(0,r._)("button",{type:"button",class:"btn btn-secondary","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":"This top tooltip is themed via CSS variables."}," Custom tooltip ",-1);function ea(a,e,t,o,l,n){const i=(0,r.up)("Vue3DraggableResizable");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",null,[B,Q,(0,r._)("p",null,"User ID: "+(0,h.zw)(a.$route.params.id),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.entryData,((a,e)=>((0,r.wg)(),(0,r.iD)("p",{key:e},(0,h.zw)(e)+" : "+(0,h.zw)(a),1)))),128)),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.entryData,((a,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r.Wm)(i,{x:a.position.x,"onUpdate:x":e=>a.position.x=e,y:a.position.y,"onUpdate:y":e=>a.position.y=e,w:a.position.w,"onUpdate:w":e=>a.position.w=e,h:a.position.h,"onUpdate:h":e=>a.position.h=e,initW:110,initH:120,draggable:!0,resizable:!0,onDragStart:e[0]||(e[0]=a=>l.active=!0),onDragEnd:e[1]||(e[1]=a=>(l.active=!1,n.rememberPosition())),onResizeEnd:e[2]||(e[2]=a=>n.rememberPosition())},{default:(0,r.w5)((()=>[(0,r._)("p",{style:(0,h.j5)({fontSize:n.calculateFontSize(a.position.w,a.position.h)}),"data-bs-toggle":"tooltip","data-bs-title":"Default tooltip"},(0,h.zw)(a.value),5),l.active?((0,r.wg)(),(0,r.iD)("p",X,(0,h.zw)(t),1)):(0,r.kq)("",!0)])),_:2},1032,["x","onUpdate:x","y","onUpdate:y","w","onUpdate:w","h","onUpdate:h"])])))),128))]),aa],64)}var ta=t(2522),oa=t.n(ta),ra={async mounted(){this.id=this.$route.params.id,(0,W.cf)((0,W.JU)(q,"players",this.id),(a=>{const e=a.metadata.hasPendingWrites?"Local":"Server";this.entryData={...a.data().gameData},console.log(e," data: ",a.data())}))},components:{Vue3DraggableResizable:oa()},data(){return{active:!1,id:"",entryData:{}}},methods:{print(a){console.log(a)},calculateFontSize(a,e){const t=Math.min(a,e)/2;return`${t}px`},async rememberPosition(){const a=(0,W.JU)(q,"players",localStorage.getItem("thisGameId"));try{await(0,W.r7)(a,{"gameData.player1Name.position":this.entryData.player1Name.position,"gameData.player2Name.position":this.entryData.player2Name.position,"gameData.player1Life.position":this.entryData.player1Life.position,"gameData.player2Life.position":this.entryData.player2Life.position,"gameData.player1Score.position":this.entryData.player1Score.position,"gameData.player2Score.position":this.entryData.player2Score.position}),console.log("Document successfully updated!")}catch(e){console.error("Error updating document: ",e)}}}};const la=(0,y.Z)(ra,[["render",ea]]);var na=la;const ia=[{path:"/",name:"Home",component:$},{path:"/overlay/:id",name:"overlay",component:na}],sa=(0,v.p7)({history:(0,v.PO)(),routes:ia});var ca=sa;(0,o.ri)(g).use(ca).mount("#app")}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var l=e[o]={exports:{}};return a[o].call(l.exports,l,l.exports,t),l.exports}t.m=a,function(){var a=[];t.O=function(e,o,r,l){if(!o){var n=1/0;for(p=0;p<a.length;p++){o=a[p][0],r=a[p][1],l=a[p][2];for(var i=!0,s=0;s<o.length;s++)(!1&l||n>=l)&&Object.keys(t.O).every((function(a){return t.O[a](o[s])}))?o.splice(s--,1):(i=!1,l<n&&(n=l));if(i){a.splice(p--,1);var c=r();void 0!==c&&(e=c)}}return e}l=l||0;for(var p=a.length;p>0&&a[p-1][2]>l;p--)a[p]=a[p-1];a[p]=[o,r,l]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var o in e)t.o(e,o)&&!t.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={143:0};t.O.j=function(e){return 0===a[e]};var e=function(e,o){var r,l,n=o[0],i=o[1],s=o[2],c=0;if(n.some((function(e){return 0!==a[e]}))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(s)var p=s(t)}for(e&&e(o);c<n.length;c++)l=n[c],t.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return t.O(p)},o=self["webpackChunkupdater"]=self["webpackChunkupdater"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(5426)}));o=t.O(o)})();
//# sourceMappingURL=app.38879123.js.map